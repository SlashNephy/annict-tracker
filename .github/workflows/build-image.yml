name: 'Build Image'

on:
  push:
    paths-ignore:
      - '**.md'
    branches-ignore:
      - 'renovate/**'

  release:
    types:
      - published

  workflow_dispatch:

permissions:
  contents: read
  packages: write
  actions: read
  security-events: write

jobs:
  build:
    uses: SlashNephy/.github/.github/workflows/docker-build.yml@master
    with:
      image-name: 'ghcr.io/slashnephy/annict-tracker'
      image-platforms: 'linux/amd64'
      env: |
        BUILD_DOCKER_IMAGE=1
